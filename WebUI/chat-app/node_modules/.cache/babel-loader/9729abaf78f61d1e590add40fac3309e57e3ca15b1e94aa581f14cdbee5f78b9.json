{"ast":null,"code":"'use strict';\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar ParticipantSignaling = require('./participant');\nvar LocalParticipantSignaling = /** @class */function (_super) {\n  __extends(LocalParticipantSignaling, _super);\n  function LocalParticipantSignaling() {\n    var _this = _super.call(this) || this;\n    Object.defineProperties(_this, {\n      _publicationsToTrackSenders: {\n        value: new Map()\n      },\n      _trackSendersToPublications: {\n        value: new Map()\n      }\n    });\n    return _this;\n  }\n  /**\n   * @param {DataTrackSender|MediaTrackSender} trackSender\n   * @param {string} name\n   * @param {Track.Priority} priority\n   * @param {?NoiseCancellationVendor} noiseCancellationVendor\n   * @returns {LocalTrackPublicationSignaling} publication\n   */\n  LocalParticipantSignaling.prototype.addTrack = function (trackSender, name, priority, noiseCancellationVendor) {\n    if (noiseCancellationVendor === void 0) {\n      noiseCancellationVendor = null;\n    }\n    var publication = this._createLocalTrackPublicationSignaling(trackSender, name, priority, noiseCancellationVendor);\n    this._trackSendersToPublications.set(trackSender, publication);\n    this._publicationsToTrackSenders.set(publication, trackSender);\n    _super.prototype.addTrack.call(this, publication);\n    return this;\n  };\n  /**\n   * @param {DataTrackSender|MediaTrackSender} trackSender\n   * @returns {?LocalTrackPublicationSignaling}\n   */\n  LocalParticipantSignaling.prototype.getPublication = function (trackSender) {\n    return this._trackSendersToPublications.get(trackSender) || null;\n  };\n  /**\n   * @param {LocalTrackPublicationSignaling} trackPublication\n   * @returns {?DataTrackSender|MediaTrackSender}\n   */\n  LocalParticipantSignaling.prototype.getSender = function (trackPublication) {\n    return this._publicationsToTrackSenders.get(trackPublication) || null;\n  };\n  /**\n   * @param {DataTrackSender|MediaTrackSender} trackSender\n   * @returns {?LocalTrackPublicationSignaling}\n   */\n  LocalParticipantSignaling.prototype.removeTrack = function (trackSender) {\n    var publication = this._trackSendersToPublications.get(trackSender);\n    if (!publication) {\n      return null;\n    }\n    this._trackSendersToPublications.delete(trackSender);\n    this._publicationsToTrackSenders.delete(publication);\n    var didDelete = _super.prototype.removeTrack.call(this, publication);\n    if (didDelete) {\n      publication.stop();\n    }\n    return publication;\n  };\n  return LocalParticipantSignaling;\n}(ParticipantSignaling);\nmodule.exports = LocalParticipantSignaling;","map":{"version":3,"names":["ParticipantSignaling","require","LocalParticipantSignaling","_super","__extends","_this","call","Object","defineProperties","_publicationsToTrackSenders","value","Map","_trackSendersToPublications","prototype","addTrack","trackSender","name","priority","noiseCancellationVendor","publication","_createLocalTrackPublicationSignaling","set","getPublication","get","getSender","trackPublication","removeTrack","delete","didDelete","stop","module","exports"],"sources":["/home/denis/RiderProjects/ChatRoulette/WebUI/chat-app/node_modules/twilio-video/lib/signaling/localparticipant.js"],"sourcesContent":["'use strict';\n\nconst ParticipantSignaling = require('./participant');\n\nclass LocalParticipantSignaling extends ParticipantSignaling {\n  constructor() {\n    super();\n    Object.defineProperties(this, {\n      _publicationsToTrackSenders: {\n        value: new Map()\n      },\n      _trackSendersToPublications: {\n        value: new Map()\n      }\n    });\n  }\n\n  /**\n   * @param {DataTrackSender|MediaTrackSender} trackSender\n   * @param {string} name\n   * @param {Track.Priority} priority\n   * @param {?NoiseCancellationVendor} noiseCancellationVendor\n   * @returns {LocalTrackPublicationSignaling} publication\n   */\n  addTrack(trackSender, name, priority, noiseCancellationVendor = null) {\n    const publication = this._createLocalTrackPublicationSignaling(trackSender, name, priority, noiseCancellationVendor);\n    this._trackSendersToPublications.set(trackSender, publication);\n    this._publicationsToTrackSenders.set(publication, trackSender);\n    super.addTrack(publication);\n    return this;\n  }\n\n  /**\n   * @param {DataTrackSender|MediaTrackSender} trackSender\n   * @returns {?LocalTrackPublicationSignaling}\n   */\n  getPublication(trackSender) {\n    return this._trackSendersToPublications.get(trackSender) || null;\n  }\n\n  /**\n   * @param {LocalTrackPublicationSignaling} trackPublication\n   * @returns {?DataTrackSender|MediaTrackSender}\n   */\n  getSender(trackPublication) {\n    return this._publicationsToTrackSenders.get(trackPublication) || null;\n  }\n\n  /**\n   * @param {DataTrackSender|MediaTrackSender} trackSender\n   * @returns {?LocalTrackPublicationSignaling}\n   */\n  removeTrack(trackSender) {\n    const publication = this._trackSendersToPublications.get(trackSender);\n    if (!publication) {\n      return null;\n    }\n    this._trackSendersToPublications.delete(trackSender);\n    this._publicationsToTrackSenders.delete(publication);\n    const didDelete = super.removeTrack(publication);\n    if (didDelete) {\n      publication.stop();\n    }\n    return publication;\n  }\n}\n\nmodule.exports = LocalParticipantSignaling;\n"],"mappings":"AAAA,YAAY;;;;;;;;;;;;;;;;;;;;;;AAEZ,IAAMA,oBAAoB,GAAGC,OAAO,CAAC,eAAe,CAAC;AAErD,IAAAC,yBAAA,0BAAAC,MAAA;EAAwCC,SAAA,CAAAF,yBAAA,EAAAC,MAAA;EACtC,SAAAD,0BAAA;IAAA,IAAAG,KAAA,GACEF,MAAA,CAAAG,IAAA,MAAO;IACPC,MAAM,CAACC,gBAAgB,CAACH,KAAI,EAAE;MAC5BI,2BAA2B,EAAE;QAC3BC,KAAK,EAAE,IAAIC,GAAG;OACf;MACDC,2BAA2B,EAAE;QAC3BF,KAAK,EAAE,IAAIC,GAAG;;KAEjB,CAAC;;EACJ;EAEA;;;;;;;EAOAT,yBAAA,CAAAW,SAAA,CAAAC,QAAQ,GAAR,UAASC,WAAW,EAAEC,IAAI,EAAEC,QAAQ,EAAEC,uBAA8B;IAA9B,IAAAA,uBAAA;MAAAA,uBAAA,OAA8B;IAAA;IAClE,IAAMC,WAAW,GAAG,IAAI,CAACC,qCAAqC,CAACL,WAAW,EAAEC,IAAI,EAAEC,QAAQ,EAAEC,uBAAuB,CAAC;IACpH,IAAI,CAACN,2BAA2B,CAACS,GAAG,CAACN,WAAW,EAAEI,WAAW,CAAC;IAC9D,IAAI,CAACV,2BAA2B,CAACY,GAAG,CAACF,WAAW,EAAEJ,WAAW,CAAC;IAC9DZ,MAAA,CAAAU,SAAA,CAAMC,QAAQ,CAAAR,IAAA,OAACa,WAAW,CAAC;IAC3B,OAAO,IAAI;EACb,CAAC;EAED;;;;EAIAjB,yBAAA,CAAAW,SAAA,CAAAS,cAAc,GAAd,UAAeP,WAAW;IACxB,OAAO,IAAI,CAACH,2BAA2B,CAACW,GAAG,CAACR,WAAW,CAAC,IAAI,IAAI;EAClE,CAAC;EAED;;;;EAIAb,yBAAA,CAAAW,SAAA,CAAAW,SAAS,GAAT,UAAUC,gBAAgB;IACxB,OAAO,IAAI,CAAChB,2BAA2B,CAACc,GAAG,CAACE,gBAAgB,CAAC,IAAI,IAAI;EACvE,CAAC;EAED;;;;EAIAvB,yBAAA,CAAAW,SAAA,CAAAa,WAAW,GAAX,UAAYX,WAAW;IACrB,IAAMI,WAAW,GAAG,IAAI,CAACP,2BAA2B,CAACW,GAAG,CAACR,WAAW,CAAC;IACrE,IAAI,CAACI,WAAW,EAAE;MAChB,OAAO,IAAI;;IAEb,IAAI,CAACP,2BAA2B,CAACe,MAAM,CAACZ,WAAW,CAAC;IACpD,IAAI,CAACN,2BAA2B,CAACkB,MAAM,CAACR,WAAW,CAAC;IACpD,IAAMS,SAAS,GAAGzB,MAAA,CAAAU,SAAA,CAAMa,WAAW,CAAApB,IAAA,OAACa,WAAW,CAAC;IAChD,IAAIS,SAAS,EAAE;MACbT,WAAW,CAACU,IAAI,EAAE;;IAEpB,OAAOV,WAAW;EACpB,CAAC;EACH,OAAAjB,yBAAC;AAAD,CAAC,CA7DuCF,oBAAoB;AA+D5D8B,MAAM,CAACC,OAAO,GAAG7B,yBAAyB"},"metadata":{},"sourceType":"script","externalDependencies":[]}
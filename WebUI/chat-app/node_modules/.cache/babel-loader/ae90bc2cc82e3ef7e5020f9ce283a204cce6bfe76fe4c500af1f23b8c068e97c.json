{"ast":null,"code":"/* eslint no-undefined:0 */\n'use strict';\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar average = require('./average');\nvar SenderOrReceiverReport = require('./senderorreceiverreport');\nvar sum = require('./sum');\n/**\n * @interface SenderSummary\n * @property {number} bitrate\n * @property {number} [rtt] - s (undefined in Chrome)\n */\n/**\n * @extends SenderOrReceiverReport\n * @property {number} [rtt] - s (undefined in Chrome)\n */\nvar SenderReport = /** @class */function (_super) {\n  __extends(SenderReport, _super);\n  /**\n   * Construct a {@link SenderReport}.\n   * @param {StatsId} id\n   * @param {TrackId} trackId\n   * @param {number} bitrate - bps\n   * @param {number} [rtt] - s\n   */\n  function SenderReport(id, trackId, bitrate, rtt) {\n    var _this = _super.call(this, id, trackId, bitrate) || this;\n    Object.defineProperties(_this, {\n      rtt: {\n        enumerable: true,\n        value: rtt\n      }\n    });\n    return _this;\n  }\n  /**\n   * Create a {@link SenderReport}.\n   * @param {string} trackId\n   * @param {RTCStats} olderStats\n   * @param {RTCStats} newerStats\n   * @param {RTCRemoteInboundRtpStreamStats} [newerRemoteStats]\n   * @returns {SenderReport}\n   */\n  SenderReport.of = function (trackId, olderStats, newerStats, newerRemoteStats) {\n    if (olderStats.id !== newerStats.id) {\n      throw new Error('RTCStats IDs must match');\n    }\n    var secondsElapsed = (newerStats.timestamp - olderStats.timestamp) / 1000;\n    var deltaBytesSent = newerStats.bytesSent - olderStats.bytesSent;\n    var bitrate = secondsElapsed > 0 ? deltaBytesSent / secondsElapsed * 8 : 0;\n    var rtt = newerRemoteStats && typeof newerRemoteStats.roundTripTime === 'number' ? newerRemoteStats.roundTripTime / 1000 : undefined;\n    return new SenderReport(olderStats.id, trackId, bitrate, rtt);\n  };\n  /**\n   * Summarize {@link SenderReport}s by summing and averaging their values.\n   * @param {Array<SenderReport>} reports\n   * @returns {SenderSummary}\n   */\n  SenderReport.summarize = function (reports) {\n    var bitrate = sum(reports.map(function (report) {\n      return report.bitrate;\n    }));\n    var rtt = average(reports.map(function (report) {\n      return report.rtt;\n    }));\n    return {\n      bitrate: bitrate,\n      rtt: rtt\n    };\n  };\n  return SenderReport;\n}(SenderOrReceiverReport);\nmodule.exports = SenderReport;","map":{"version":3,"names":["average","require","SenderOrReceiverReport","sum","SenderReport","_super","__extends","id","trackId","bitrate","rtt","_this","call","Object","defineProperties","enumerable","value","of","olderStats","newerStats","newerRemoteStats","Error","secondsElapsed","timestamp","deltaBytesSent","bytesSent","roundTripTime","undefined","summarize","reports","map","report","module","exports"],"sources":["/home/denis/RiderProjects/ChatRoulette/WebUI/chat-app/node_modules/twilio-video/lib/stats/senderreport.js"],"sourcesContent":["/* eslint no-undefined:0 */\n'use strict';\n\nconst average = require('./average');\nconst SenderOrReceiverReport = require('./senderorreceiverreport');\nconst sum = require('./sum');\n\n/**\n * @interface SenderSummary\n * @property {number} bitrate\n * @property {number} [rtt] - s (undefined in Chrome)\n */\n\n/**\n * @extends SenderOrReceiverReport\n * @property {number} [rtt] - s (undefined in Chrome)\n */\nclass SenderReport extends SenderOrReceiverReport {\n  /**\n   * Construct a {@link SenderReport}.\n   * @param {StatsId} id\n   * @param {TrackId} trackId\n   * @param {number} bitrate - bps\n   * @param {number} [rtt] - s\n   */\n  constructor(id, trackId, bitrate, rtt) {\n    super(id, trackId, bitrate);\n    Object.defineProperties(this, {\n      rtt: {\n        enumerable: true,\n        value: rtt\n      }\n    });\n  }\n\n  /**\n   * Create a {@link SenderReport}.\n   * @param {string} trackId\n   * @param {RTCStats} olderStats\n   * @param {RTCStats} newerStats\n   * @param {RTCRemoteInboundRtpStreamStats} [newerRemoteStats]\n   * @returns {SenderReport}\n   */\n  static of(trackId, olderStats, newerStats, newerRemoteStats) {\n    if (olderStats.id !== newerStats.id) {\n      throw new Error('RTCStats IDs must match');\n    }\n    const secondsElapsed = (newerStats.timestamp - olderStats.timestamp) / 1000;\n    const deltaBytesSent = newerStats.bytesSent - olderStats.bytesSent;\n    const bitrate = secondsElapsed > 0\n      ? (deltaBytesSent / secondsElapsed) * 8\n      : 0;\n    const rtt = newerRemoteStats && typeof newerRemoteStats.roundTripTime === 'number'\n      ? newerRemoteStats.roundTripTime / 1000\n      : undefined;\n    return new SenderReport(olderStats.id, trackId, bitrate, rtt);\n  }\n\n  /**\n   * Summarize {@link SenderReport}s by summing and averaging their values.\n   * @param {Array<SenderReport>} reports\n   * @returns {SenderSummary}\n   */\n  static summarize(reports) {\n    const bitrate = sum(reports.map(report => report.bitrate));\n    const rtt = average(reports.map(report => report.rtt));\n    return {\n      bitrate,\n      rtt\n    };\n  }\n}\n\nmodule.exports = SenderReport;\n"],"mappings":"AAAA;AACA,YAAY;;;;;;;;;;;;;;;;;;;;;;AAEZ,IAAMA,OAAO,GAAGC,OAAO,CAAC,WAAW,CAAC;AACpC,IAAMC,sBAAsB,GAAGD,OAAO,CAAC,0BAA0B,CAAC;AAClE,IAAME,GAAG,GAAGF,OAAO,CAAC,OAAO,CAAC;AAE5B;;;;;AAMA;;;;AAIA,IAAAG,YAAA,0BAAAC,MAAA;EAA2BC,SAAA,CAAAF,YAAA,EAAAC,MAAA;EACzB;;;;;;;EAOA,SAAAD,aAAYG,EAAE,EAAEC,OAAO,EAAEC,OAAO,EAAEC,GAAG;IAArC,IAAAC,KAAA,GACEN,MAAA,CAAAO,IAAA,OAAML,EAAE,EAAEC,OAAO,EAAEC,OAAO,CAAC;IAC3BI,MAAM,CAACC,gBAAgB,CAACH,KAAI,EAAE;MAC5BD,GAAG,EAAE;QACHK,UAAU,EAAE,IAAI;QAChBC,KAAK,EAAEN;;KAEV,CAAC;;EACJ;EAEA;;;;;;;;EAQON,YAAA,CAAAa,EAAE,GAAT,UAAUT,OAAO,EAAEU,UAAU,EAAEC,UAAU,EAAEC,gBAAgB;IACzD,IAAIF,UAAU,CAACX,EAAE,KAAKY,UAAU,CAACZ,EAAE,EAAE;MACnC,MAAM,IAAIc,KAAK,CAAC,yBAAyB,CAAC;;IAE5C,IAAMC,cAAc,GAAG,CAACH,UAAU,CAACI,SAAS,GAAGL,UAAU,CAACK,SAAS,IAAI,IAAI;IAC3E,IAAMC,cAAc,GAAGL,UAAU,CAACM,SAAS,GAAGP,UAAU,CAACO,SAAS;IAClE,IAAMhB,OAAO,GAAGa,cAAc,GAAG,CAAC,GAC7BE,cAAc,GAAGF,cAAc,GAAI,CAAC,GACrC,CAAC;IACL,IAAMZ,GAAG,GAAGU,gBAAgB,IAAI,OAAOA,gBAAgB,CAACM,aAAa,KAAK,QAAQ,GAC9EN,gBAAgB,CAACM,aAAa,GAAG,IAAI,GACrCC,SAAS;IACb,OAAO,IAAIvB,YAAY,CAACc,UAAU,CAACX,EAAE,EAAEC,OAAO,EAAEC,OAAO,EAAEC,GAAG,CAAC;EAC/D,CAAC;EAED;;;;;EAKON,YAAA,CAAAwB,SAAS,GAAhB,UAAiBC,OAAO;IACtB,IAAMpB,OAAO,GAAGN,GAAG,CAAC0B,OAAO,CAACC,GAAG,CAAC,UAAAC,MAAM;MAAI,OAAAA,MAAM,CAACtB,OAAO;IAAd,CAAc,CAAC,CAAC;IAC1D,IAAMC,GAAG,GAAGV,OAAO,CAAC6B,OAAO,CAACC,GAAG,CAAC,UAAAC,MAAM;MAAI,OAAAA,MAAM,CAACrB,GAAG;IAAV,CAAU,CAAC,CAAC;IACtD,OAAO;MACLD,OAAO,EAAAA,OAAA;MACPC,GAAG,EAAAA;KACJ;EACH,CAAC;EACH,OAAAN,YAAC;AAAD,CAAC,CAtD0BF,sBAAsB;AAwDjD8B,MAAM,CAACC,OAAO,GAAG7B,YAAY"},"metadata":{},"sourceType":"script","externalDependencies":[]}
{"ast":null,"code":"'use strict';\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nvar __spreadArray = this && this.__spreadArray || function (to, from) {\n  for (var i = 0, il = from.length, j = to.length; i < il; i++, j++) to[j] = from[i];\n  return to;\n};\n/**\n * A Promise that can be canceled with {@link CancelablePromise#cancel}.\n * @extends Promise\n*/\nvar CancelablePromise = /** @class */function () {\n  /**\n   * Construct a new {@link CancelablePromise}.\n   * @param {CancelablePromise.OnCreate} onCreate\n   * @param {CancelablePromise.OnCancel} onCancel\n  */ /**\n     * A function to be called on {@link CancelablePromise} creation\n     * @typedef {function} CancelablePromise.OnCreate\n     * @param {function(*)} resolve\n     * @param {function(*)} reject\n     * @param {function(): boolean} isCanceled\n     */ /**\n        * A function to be called when {@link CancelablePromise#cancel} is called\n        * @typedef {function} CancelablePromise.OnCancel\n        */\n  function CancelablePromise(onCreate, onCancel) {\n    var _this = this;\n    /* istanbul ignore next */\n    Object.defineProperties(this, {\n      _isCancelable: {\n        writable: true,\n        value: true\n      },\n      _isCanceled: {\n        writable: true,\n        value: false\n      },\n      _onCancel: {\n        value: onCancel\n      }\n    });\n    Object.defineProperty(this, '_promise', {\n      value: new Promise(function (resolve, reject) {\n        onCreate(function (value) {\n          _this._isCancelable = false;\n          resolve(value);\n        }, function (reason) {\n          _this._isCancelable = false;\n          reject(reason);\n        }, function () {\n          return _this._isCanceled;\n        });\n      })\n    });\n  }\n  /**\n   * Create a synchronously-rejected {@link CancelablePromise}.\n   * @param {*} reason\n   * @returns {Promise<*>}\n   */\n  CancelablePromise.reject = function (reason) {\n    return new CancelablePromise(function rejected(resolve, reject) {\n      reject(reason);\n    }, function onCancel() {\n      // Do nothing.\n    });\n  };\n  /**\n   * Create a synchronously-resolved {@link CancelablePromise}.\n   * @param {*|Promise<*>|Thenable<*>} result\n   * @returns {CancelablePromise<*>}\n   */\n  CancelablePromise.resolve = function (result) {\n    return new CancelablePromise(function resolved(resolve) {\n      resolve(result);\n    }, function onCancel() {\n      // Do nothing.\n    });\n  };\n  /**\n   * Attempt to cancel the {@link CancelablePromise}.\n   * @returns {this}\n   */\n  CancelablePromise.prototype.cancel = function () {\n    if (this._isCancelable) {\n      this._isCanceled = true;\n      this._onCancel();\n    }\n    return this;\n  };\n  /**\n   * @param {function} onRejected\n   * @returns {CancelablePromise}\n   */\n  CancelablePromise.prototype.catch = function () {\n    var args = [].slice.call(arguments);\n    var promise = this._promise;\n    return new CancelablePromise(function onCreate(resolve, reject) {\n      promise.catch.apply(promise, __spreadArray([], __read(args))).then(resolve, reject);\n    }, this._onCancel);\n  };\n  /**\n   * @param {?function} onResolved\n   * @param {function} [onRejected]\n   * @returns {CancelablePromise}\n   */\n  CancelablePromise.prototype.then = function () {\n    var args = [].slice.call(arguments);\n    var promise = this._promise;\n    return new CancelablePromise(function onCreate(resolve, reject) {\n      promise.then.apply(promise, __spreadArray([], __read(args))).then(resolve, reject);\n    }, this._onCancel);\n  };\n  /**\n  * @param {?function} onFinally\n  * @returns {CancelablePromise}\n  */\n  CancelablePromise.prototype.finally = function () {\n    var args = [].slice.call(arguments);\n    var promise = this._promise;\n    return new CancelablePromise(function onCreate(resolve, reject) {\n      promise.finally.apply(promise, __spreadArray([], __read(args))).then(resolve, reject);\n    }, this._onCancel);\n  };\n  return CancelablePromise;\n}();\nmodule.exports = CancelablePromise;","map":{"version":3,"names":["CancelablePromise","onCreate","onCancel","_this","Object","defineProperties","_isCancelable","writable","value","_isCanceled","_onCancel","defineProperty","Promise","resolve","reject","reason","rejected","result","resolved","prototype","cancel","catch","args","slice","call","arguments","promise","_promise","apply","__spreadArray","__read","then","finally","module","exports"],"sources":["/home/denis/RiderProjects/ChatRoulette/WebUI/chat-app/node_modules/twilio-video/lib/util/cancelablepromise.js"],"sourcesContent":["'use strict';\n\n/**\n * A Promise that can be canceled with {@link CancelablePromise#cancel}.\n * @extends Promise\n*/\nclass CancelablePromise {\n  /**\n   * Construct a new {@link CancelablePromise}.\n   * @param {CancelablePromise.OnCreate} onCreate\n   * @param {CancelablePromise.OnCancel} onCancel\n  *//**\n   * A function to be called on {@link CancelablePromise} creation\n   * @typedef {function} CancelablePromise.OnCreate\n   * @param {function(*)} resolve\n   * @param {function(*)} reject\n   * @param {function(): boolean} isCanceled\n  *//**\n   * A function to be called when {@link CancelablePromise#cancel} is called\n   * @typedef {function} CancelablePromise.OnCancel\n   */\n  constructor(onCreate, onCancel) {\n    /* istanbul ignore next */\n    Object.defineProperties(this, {\n      _isCancelable: {\n        writable: true,\n        value: true\n      },\n      _isCanceled: {\n        writable: true,\n        value: false\n      },\n      _onCancel: {\n        value: onCancel\n      }\n    });\n\n    Object.defineProperty(this, '_promise', {\n      value: new Promise((resolve, reject) => {\n        onCreate(value => {\n          this._isCancelable = false;\n          resolve(value);\n        }, reason => {\n          this._isCancelable = false;\n          reject(reason);\n        }, () => this._isCanceled);\n      })\n    });\n  }\n\n  /**\n   * Create a synchronously-rejected {@link CancelablePromise}.\n   * @param {*} reason\n   * @returns {Promise<*>}\n   */\n  static reject(reason) {\n    return new CancelablePromise(function rejected(resolve, reject) {\n      reject(reason);\n    }, function onCancel() {\n      // Do nothing.\n    });\n  }\n\n  /**\n   * Create a synchronously-resolved {@link CancelablePromise}.\n   * @param {*|Promise<*>|Thenable<*>} result\n   * @returns {CancelablePromise<*>}\n   */\n  static resolve(result) {\n    return new CancelablePromise(function resolved(resolve) {\n      resolve(result);\n    }, function onCancel() {\n      // Do nothing.\n    });\n  }\n\n  /**\n   * Attempt to cancel the {@link CancelablePromise}.\n   * @returns {this}\n   */\n  cancel() {\n    if (this._isCancelable) {\n      this._isCanceled = true;\n      this._onCancel();\n    }\n    return this;\n  }\n\n  /**\n   * @param {function} onRejected\n   * @returns {CancelablePromise}\n   */\n  catch() {\n    const args = [].slice.call(arguments);\n    const promise = this._promise;\n    return new CancelablePromise(function onCreate(resolve, reject) {\n      promise.catch(...args).then(resolve, reject);\n    }, this._onCancel);\n  }\n\n  /**\n   * @param {?function} onResolved\n   * @param {function} [onRejected]\n   * @returns {CancelablePromise}\n   */\n  then() {\n    const args = [].slice.call(arguments);\n    const promise = this._promise;\n    return new CancelablePromise(function onCreate(resolve, reject) {\n      promise.then(...args).then(resolve, reject);\n    }, this._onCancel);\n  }\n\n  /**\n * @param {?function} onFinally\n * @returns {CancelablePromise}\n */\n  finally() {\n    const args = [].slice.call(arguments);\n    const promise = this._promise;\n    return new CancelablePromise(function onCreate(resolve, reject) {\n      promise.finally(...args).then(resolve, reject);\n    }, this._onCancel);\n  }\n}\n\nmodule.exports = CancelablePromise;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}